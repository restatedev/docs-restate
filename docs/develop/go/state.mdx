---
title: "State"
description: "Store key-value state in Restate."
icon: "database"
---

import StateIntro from '/snippets/sdk/state-intro.mdx';
import StateLazy from '/snippets/sdk/state-lazy.mdx';

<StateIntro/>

## List all state keys
To retrieve all keys for which the current Virtual Object has stored state:

```go {"CODE_LOAD::go/develop/state.go#statekeys"} 
stateKeys, err := restate.Keys(ctx)
if err != nil {
  return err
}
```

## Get state value
To read a value by key:

```go {"CODE_LOAD::go/develop/state.go#get"} 
myString := "my-default"
if s, err := restate.Get[*string](ctx, "my-string-key"); err != nil {
  return err
} else if s != nil {
  myString = *s
}

myNumber, err := restate.Get[int](ctx, "my-number-key")
if err != nil {
  return err
}
```
Returns null if the key doesn't exist.

## Set state value
To write or update a value:

```go {"CODE_LOAD::go/develop/state.go#set"} 
restate.Set(ctx, "my-key", "my-new-value")
```

## Clear state key
To delete a specific key:

```go {"CODE_LOAD::go/develop/state.go#clear"} 
restate.Clear(ctx, "my-key")
```

## Clear all state keys

To remove all stored state for the current Virtual Object:

```go {"CODE_LOAD::go/develop/state.go#clear_all"} 
restate.ClearAll(ctx)
```

<StateLazy/>
