---
title: "AI Agents"
description: "Build resilient, observable AI agents that recover from failures and handle complex multi-step tasks."
icon: "robot"
---

## What Restate does for AI Agents

Restate transforms AI agents into resilient, long-running processes with:

- **üîÑ Durable Execution**: Automatic recovery from failures without losing progress
- **‚ö° Resilient Workflow Patterns**: Parallelization, sub-workflows, scheduling, and multi-agent orchestration
- **üë§ Human-in-the-Loop**: Crash-proof approval workflows with timeouts and suspensions
- **‚è∏Ô∏è Suspend & Resume**: Long-lived agents that suspend when waiting (e.g. human approval) and resume when the input arrives
- **üëÅÔ∏è Detailed Observability**: Complete traces of LLM calls, tool executions, and state changes
- **üîó Flexible Integration**: Use existing AI SDKs, build custom agents from scratch, or implement pure AI workflows
- **üß† Persistent Memory**: Stateful conversations and context across interactions

<img src="/img/usecases/agents/durable-execution-animation-agents.gif" alt="Durable AI Agent Execution" />

<AccordionGroup>
    <Accordion title={"AI SDK Integration"}>
        Combine Restate with popular AI frameworks:
        ```typescript {"CODE_LOAD::ts/src/usecases/agents/weather-agent.ts#here"}
        const model = wrapLanguageModel({
        model: openai("gpt-4o"),
        middleware: durableCalls(restateContext, { maxRetryAttempts: 3 }),
    });
        ```
        Works with Vercel AI SDK, OpenAI, PyDantic AI. Deploy on Docker, Kubernetes, AWS Lambda, or any platform.
    </Accordion>
    <Accordion title={"Complete Observability"}>
        <Frame>
        <img src="/img/usecases/agents/observability.png" alt="AI Agent Execution Trace" />
        </Frame>
        View every LLM call, tool execution, and state change. Debug failures and export traces via OpenTelemetry.
    </Accordion>
</AccordionGroup>

## Core Patterns

<AccordionGroup>
<Accordion title="Human-in-the-Loop Workflows">
    Resilient approval workflows with durable waiting and cost-efficient suspensions:
    ```typescript {"CODE_LOAD::ts/src/usecases/agents/agent-actions.ts#approval"}
    const approval = ctx.awakeable<boolean>();
    await ctx.run("request-approval", () =>
        sendApprovalRequest(approval.id, request)
    );
    const approved = await approval.promise;
    ```
</Accordion>

<Accordion title="Stateful Conversational Agents">
    Persistent conversation history using Virtual Objects:
    ```typescript {"CODE_LOAD::ts/src/usecases/agents/chat.ts#here"} 
    restate.object({
      name: "Chat",
      handlers: {
        message: async (ctx: restate.ObjectContext, message: string) => {
          const messages = (await ctx.get<Message[]>("messages")) ?? [];
          messages.push({ role: "user", content: message });
          const result = await runAgent(ctx, messages);
          ctx.set("messages", [...messages, ...result.response.messages]);
          return result.text;
        },
      },
    });
    ```
</Accordion>

<Accordion title="Multi-Agent Orchestration">
    Coordinate specialized agents with durable queuing and RPC:
    ```typescript {"CODE_LOAD::ts/src/usecases/agents/agent-actions.ts#multi"} 
    const [eligibility, fraud, cost] = await RestatePromise.all([
      ctx.serviceClient(eligibilityAgent).analyze(claim),
      ctx.serviceClient(fraudAgent).analyze(claim),
      ctx.serviceClient(costAgent).analyze(claim),
    ]);
    
    const decision = await generateText({
      model,
      prompt: `Make decision based on: ${eligibility}, ${fraud}, ${cost}`,
    });
    ```
</Accordion>
</AccordionGroup>

### Advanced Agent Patterns

<CardGroup cols={3}>
    <Card title="Parallel Execution" icon="arrows-split-up-and-left" href="/tour/ai-agents#parallel-work">
        Speed up multi-step workflows with recoverable parallel tasks
    </Card>
    <Card title="Manual Control Loops" icon="code" href="/tour/ai-agents#advanced-patterns">
        Implement custom agent logic with full control over execution flow and tool calling
    </Card>
    <Card title="Error Handling" icon="triangle-exclamation" href="/tour/ai-agents#error-handling">
        Handle failing LLM call and tool errors with flexible logic and retry policies
    </Card>
    <Card title="Compensation Patterns" icon="arrow-rotate-left" href="/tour/ai-agents#advanced-patterns">
        Automatically undo previous actions when later steps fail with rollback/saga patterns
    </Card>
    <Card title="Interruptible Agents" icon="hand" href="https://github.com/igalshilman/agent47/tree/main/packages/agent">
        Build agents that can be paused, modified, and resumed during execution
    </Card>
    <Card title="Streaming Results" icon="water" href="https://github.com/igalshilman/agent47/tree/main/packages/pubsub">
        Stream intermediate results and progress updates in real-time
    </Card>
</CardGroup>

## Getting Started

<CardGroup cols={3}>
  <Card title="Quickstart" icon="rocket" href="/installation">
    Set up Restate and run your first agent
  </Card>
  <Card title="Hands-on Tutorial" icon="pen" href="/tour/ai-agents">
    Build durable agents, chatbots, and multi-agent systems
  </Card>
  <Card title="AI Examples" icon="code" href="https://github.com/restatedev/ai-examples">
    Explore insurance claims, chat sessions, and coding agents
  </Card>
</CardGroup>

<Info>
    Questions? Join our community on [Discord](https://discord.gg/skW3AZ6uGd) or [Slack](https://join.slack.com/t/restatecommunity/shared_invite/zt-2v9gl005c-WBpr167o5XJZI1l7HWKImA).
</Info>

