---
title: "Microservice Orchestration"
description: "Build resilient, distributed microservices with durable execution, sagas, and reliable service communication."
icon: "circle-nodes"
---

Traditional microservice orchestration requires complex infrastructure: message brokers, workflow engines, state stores, and retry mechanisms. Restate simplifies this by providing **durable execution primitives** that make distributed systems resilient by default, without the operational overhead.

### Durable Execution

Build microservices that automatically recover from failures without losing progress:

```typescript {"CODE_LOAD::ts/src/usecases/microservices/order-service.ts#here"} 
export const orderService = restate.service({
  name: "OrderService",
  handlers: {
    process: async (ctx: restate.Context, order: Order) => {
      // Each step is automatically durable and resumable
      const paymentId = ctx.rand.uuidv4();

      await ctx.run(() => chargePayment(order.creditCard, paymentId));

      for (const item of order.items) {
        await ctx.run(() => reserveInventory(item.id, item.quantity));
      }
      return { success: true, paymentId };
    },
  },
});
```

**Key Benefits:**
- **Automatic recovery**: Services resume exactly where they left off after failures
- **Zero message loss**: All service communication is durably logged
- **No external dependencies**: Built-in persistence and messaging
- **Standard development**: Write services like regular HTTP APIs

### Resilient Service Communication

Flexible communication patterns with strong delivery guarantees:

```typescript {"CODE_LOAD::ts/src/usecases/microservices/service-actions.ts#communication"} 
// Request-response: Wait for result
const result = await ctx.serviceClient(inventoryService).checkStock(item);

// Fire-and-forget: Guaranteed delivery without waiting
ctx.serviceSendClient(emailService).sendConfirmation(order);

// Delayed execution: Schedule for later
ctx
  .serviceSendClient(reminderService)
  .sendReminder(order, sendOpts({ delay: { days: 7 } }));
```

**Communication Guarantees:**
- **Exactly-once delivery**: Messages are never lost or duplicated
- **Built-in retries**: Automatic exponential backoff for transient failures  
- **Request deduplication**: Idempotency keys prevent duplicate processing

### State Management

Manage stateful entities without external databases or complex consistency mechanisms:

```typescript {"CODE_LOAD::ts/src/usecases/microservices/user-account.ts#here"} 
export default restate.object({
  name: "UserAccount",
  handlers: {
    updateBalance: async (ctx: restate.ObjectContext, amount: number) => {
      const balance = (await ctx.get<number>("balance")) ?? 0;
      const newBalance = balance + amount;

      if (newBalance < 0) {
        throw new TerminalError("Insufficient funds");
      }

      ctx.set("balance", newBalance);
      return newBalance;
    },

    getBalance: shared(async (ctx: restate.ObjectSharedContext) => {
      return (await ctx.get<number>("balance")) ?? 0;
    }),
  },
});
```

**State Guarantees:**
- **Strict consistency**: Single-writer semantics prevent race conditions
- **Durable persistence**: State survives crashes and deployments
- **Horizontal scaling**: Different entity keys process independently
- **Built-in querying**: Access state via UI and APIs

## Key Orchestration Patterns

### Saga Pattern Implementation

Implement resilient rollback logic for non-transient failures (e.g. flight fully booked):

```typescript {"CODE_LOAD::ts/src/usecases/microservices/booking-service.ts#here"} 
export default restate.service({
  name: "BookingService",
  handlers: {
    reserve: async (ctx: restate.Context, request: BookingRequest) => {
      const compensations = [];

      try {
        // Reserve hotel
        compensations.push(() => cancelHotel(request.hotelId));
        await ctx.run(() => bookHotel(request));

        // Reserve flight
        compensations.push(() => cancelFlight(request.flightId));
        await ctx.run(() => bookFlight(request));

        return { success: true };
      } catch (error) {
        // Run compensations in reverse order
        for (const compensation of compensations.reverse()) {
          await ctx.run(() => compensation());
        }
        throw error;
      }
    },
  },
});
```

### Event-Driven Coordination  

Wait for external events and webhooks with promises that survive crashes:

```typescript {"CODE_LOAD::ts/src/usecases/microservices/service-actions.ts#awakeables"} 
// Wait for external payment confirmation
const confirmation = ctx.awakeable<PaymentResult>();
await ctx.run(() => startPayment(order, confirmation.id));
await confirmation.promise.orTimeout({ minutes: 30 });
```

Resolve them from another handler via the SDK or via HTTP.

### Parallel Processing

Execute independent operations concurrently while maintaining durability:

```typescript {"CODE_LOAD::ts/src/usecases/microservices/service-actions.ts#parallel"} 
// Process all items in parallel
const itemPromises = order.items.map((item) =>
  ctx.run(() => processItem(item))
);

await RestatePromise.all(itemPromises);
```

## When to Choose Restate

**âœ… Choose Restate when you need:**

- **Fault-tolerant systems**: Automatic recovery from service failures
- **Reliable microservice communication**: Guaranteed delivery without extra infrastructure
- **Distributed transaction handling**: Implement sagas without complex state machines  
- **Consistent, stateful services**: Stateful objects with a simple concurrency model
- **Workflow orchestration**: Coordinate long-running business processes
- **Event-driven architectures**: Handle webhooks and external events reliably
- **Operational simplicity**: Reduce infrastructure complexity (no need for queues + state stores + schedulers, etc.). A single binary including everything you need.
- **Gradual adoption**: Integrate with existing services incrementally

<Info>
    Evaluating Restate and missing a feature? Contact us on [Discord](https://discord.com/invite/skW3AZ6uGd) or [Slack](https://join.slack.com/t/restatecommunity/shared_invite/zt-2v9gl005c-WBpr167o5XJZI1l7HWKImA).
</Info>

## Comparison with Other Solutions

| Feature | Restate | Traditional Orchestration                         |
|---------|---------|---------------------------------------------------|
| **Infrastructure** | Single binary deployment | Message brokers + workflow engines + state stores             |
| **Service Communication** | Built-in reliable messaging | External message queues required                  |
| **State Management** | Integrated durable state | External state stores + locks                     |
| **Failure Recovery** | Automatic progress recovery | Manual checkpoint/restart logic                   |
| **Deployment Model** | Standard HTTP services | Standard HTTP services                            |
| **Development Experience** | Regular code + IDE support | Regular code + IDE support                        |
| **Observability** | Built-in UI & execution tracing | Manual setup                                      |

## Getting Started

Ready to build resilient microservices with Restate? Here are your next steps:

<CardGroup cols={3}>
  <Card title="Quickstart" icon="rocket" href="/quickstart">
    Run your first Restate service
  </Card>
  <Card title="Hands-on Tutorial" icon="play" href="/tour/microservice-orchestration">
    Learn orchestration patterns with interactive examples
  </Card>
  <Card title="Need help?" icon="thought-bubble">
    Discuss your use case on [Discord](https://discord.gg/skW3AZ6uGd) or [Slack](https://join.slack.com/t/restatecommunity/shared_invite/zt-2v9gl005c-WBpr167o5XJZI1l7HWKImA)
  </Card>
</CardGroup>

## Implementation Guides

Explore specific patterns and best practices:

- **Service Communication**: Reliable RPC and messaging patterns ([TS](/develop/ts/service-communication)/[Python](/develop/python/service-communication)/[Go](/develop/go/service-communication)/[Java/Kotlin](/develop/java/service-communication)/[Rust](https://docs.rs/restate-sdk/latest/restate_sdk/context/trait.ContextClient.html))
- **[Error Handling](/guides/error-handling)**: Retries, timeouts, and saga compensation
- **[Stateful Entities](/foundations/services#virtual-object)**: Virtual Objects and consistency patterns
- **Event Processing**: Webhooks, external events, and awakeables ([TS](/develop/ts/external-events)/[Python](/develop/python/external-events)/[Go](/develop/go/external-events)/[Java/Kotlin](/develop/java/external-events)/[Rust](https://docs.rs/restate-sdk/latest/restate_sdk/context/trait.ContextClient.html))
- **[Saga pattern](/guides/sagas)**: Implement resilient rollback of distributed operations
- **Concurrent tasks**: Execute multiple tasks concurrently and gather results ([TS](/develop/ts/concurrent-tasks)/[Python](/develop/python/concurrent-tasks)/[Go](/develop/go/concurrent-tasks)/[Java/Kotlin](/develop/java/concurrent-tasks)/[Rust](https://docs.rs/restate-sdk/latest/restate_sdk/macro.select.html))